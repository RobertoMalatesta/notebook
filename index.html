<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="quantitative finance in javascript">
    <meta name="author" content="Jin Yang">
    <meta name="keywords" content="notebook, quantlib.js, math, javascript, quant, quantitative, finance, quantitative finance, mathematical finance, calculus, linear algebra, statistcs, probability, fast fourier transform, interpolation, extrapolation, ode, cashflow, libor, eurlibor, usdlibor, instrument, capfloor, bond, option, swap, swaption, future, monte carlo, finite difference, lattice, equity, market model, short rate, volatility, stochastic process, term structure">
    <meta name="google-site-verification" content="4IrXoRzLpuCL684J3Y19wWtY9W5KqlvwLH5EQuZh1-Q" />
    <title>quantlib.js notebook Â© 2020 Jin Yang</title>
    <link rel="shortcut icon" type="image/jpg" href="/made-in-china.jpg">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@forevolve/bootstrap-dark@1.0.0-alpha.978/dist/css/toggle-bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@forevolve/bootstrap-dark@1.0.0-alpha.978/dist/css/toggle-bootstrap-dark.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.52.2/lib/codemirror.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.52.2/theme/base16-light.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.52.2/theme/base16-dark.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
        
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-87290595-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-87290595-6');
    </script>
    <style>
      .CodeMirror {
        height: auto;
      }
      .cell.row{
        border-color: #191d21;
        border-width: 0.5px;
        border-style: solid;
        padding: 2px;
        margin: 2px;
      }
      body {
        position: relative;

      }
      body::-webkit-scrollbar { width: 0 !important }
      #toc {
        top: 56px;
        left: 20px;
      }
      nav[data-toggle="toc"] .nav > li > a {
        display: block;
        padding: 4px 20px;
        font-size: 16px;
        font-weight: 500;
        color: #767676;
      }
      nav[data-toggle="toc"] .nav > li > a:hover,
      nav[data-toggle="toc"] .nav > li > a:focus {
        padding-left: 19px;
        color: #563d7c;
        text-decoration: none;
        background-color: transparent;
        border-left: 1px solid #563d7c;
      }
      nav[data-toggle="toc"] .nav-link.active,
      nav[data-toggle="toc"] .nav-link.active:hover,
      nav[data-toggle="toc"] .nav-link.active:focus {
        padding-left: 18px;
        font-weight: bold;
        color: #563d7c;
        background-color: transparent;
        border-left: 2px solid #563d7c;
      }
      nav[data-toggle="toc"] .nav-link + ul {
        display: none; /* Hide by default, but at >768px, show it */
        padding-bottom: 10px;
      }
      nav[data-toggle="toc"] .nav .nav > li > a {
        padding-top: 1px;
        padding-bottom: 1px;
        padding-left: 30px;
        font-size: 14px;
        font-weight: normal;
      }
      nav[data-toggle="toc"] .nav .nav > li > a:hover,
      nav[data-toggle="toc"] .nav .nav > li > a:focus {
        padding-left: 29px;
      }
      nav[data-toggle="toc"] .nav .nav > li > .active,
      nav[data-toggle="toc"] .nav .nav > li > .active:hover,
      nav[data-toggle="toc"] .nav .nav > li > .active:focus {
        padding-left: 28px;
        font-weight: 500;
      }
      nav[data-toggle="toc"] .nav-link.active + ul {
        display: block;
      }
      blockquote {
        border-left: 4px solid #DDD;
        padding: 0 15px;
        color: #777;
      }
      .cn {
          background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjAwIDgwMCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KPHBhdGggZmlsbD0iI2RlMjkxMCIgZD0ibTAsMGgxMjAwdjgwMGgtMTIwMHoiLz4NCjxwYXRoIGZpbGw9IiNmZmRlMDAiIGQ9Im0tMTYuNTc5Niw5OS42MDA3bDIuMzY4Ni04LjEwMzItNi45NTMtNC43ODgzIDguNDM4Ni0uMjUxNCAyLjQwNTMtOC4wOTI0IDIuODQ2Nyw3Ljk0NzkgOC40Mzk2LS4yMTMxLTYuNjc5Miw1LjE2MzQgMi44MTA2LDcuOTYwNy02Ljk3NDctNC43NTY3LTYuNzAyNSw1LjEzMzF6IiB0cmFuc2Zvcm09Im1hdHJpeCg5LjkzMzUyIC4yNzc0NyAtLjI3NzQ3IDkuOTMzNTIgMzI0LjI5MjUgLTY5NS4yNDE1KSIvPg0KPHBhdGggZmlsbD0iI2ZmZGUwMCIgaWQ9InN0YXIiIGQ9Im0zNjUuODU1MiwzMzIuNjg5NWwyOC4zMDY4LDExLjM3NTcgMTkuNjcyMi0yMy4zMTcxLTIuMDcxNiwzMC40MzY3IDI4LjI1NDksMTEuNTA0LTI5LjU4NzIsNy40MzUyLTIuMjA5NywzMC40MjY5LTE2LjIxNDItMjUuODQxNS0yOS42MjA2LDcuMzAwOSAxOS41NjYyLTIzLjQwNjEtMTYuMDk2OC0yNS45MTQ4eiIvPg0KPGcgZmlsbD0iI2ZmZGUwMCI+DQo8cGF0aCBkPSJtNTE5LjA3NzksMTc5LjMxMjlsLTMwLjA1MzQtNS4yNDE4LTE0LjM5NDUsMjYuODk3Ni00LjMwMTctMzAuMjAyMy0zMC4wMjkzLTUuMzc4MSAyNy4zOTQ4LTEzLjQyNDItNC4xNjQ3LTMwLjIyMTUgMjEuMjMyNiwyMS45MDU3IDI3LjQ1NTQtMTMuMjk5OC0xNC4yNzIzLDI2Ljk2MjcgMjEuMTMzMSwyMi4wMDE3eiIvPg0KPHBhdGggZD0ibTQ1NS4yNTkyLDMxNS45Nzk1bDkuMzczNC0yOS4wMzE0LTI0LjYzMjUtMTcuOTk3OCAzMC41MDctLjA1NjYgOS41MDUtMjguOTg4NiA5LjQ4MSwyOC45OTY0IDMwLjUwNywuMDgxOC0yNC42NDc0LDE3Ljk3NzQgOS4zNDkzLDI5LjAzOTItMjQuNzE0LTE3Ljg4NTgtMjQuNzI4OCwxNy44NjUzeiIvPg0KPC9nPg0KPHVzZSB4bGluazpocmVmPSIjc3RhciIgdHJhbnNmb3JtPSJtYXRyaXgoLjk5ODYzIC4wNTIzNCAtLjA1MjM0IC45OTg2MyAxOS40MDAwNSAtMzAwLjUzNjgxKSIvPg0KPC9zdmc+DQo=);
          width: 30px;
          height: 40px;
          padding-top: 8px;
          background-size: 100% auto;
          background-repeat: no-repeat;
          background-position: left center;
      }
      .hk {
          background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MDAgNjAwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQo8cGF0aCBmaWxsPSIjZGUyOTEwIiBkPSJtMCwwaDkwMHY2MDBoLTkwMHoiLz4NCjxnIGlkPSJwZXRhbCI+DQo8cGF0aCBmaWxsPSIjZmZmIiBkPSJtNDQ5Ljk2NDEsMjk5LjkxMzRjLTEwNS4yNjMxLTQ0LjQ4NjMtNTguNjAxNy0xODEuNTgxOSA0Mi4wNjk2LTE3NC42OTA3LTIwLjM2NjEsMTAuNDY2OS0yMy4zMTc3LDI5Ljk5NzctMTEuNjg3LDQ4LjA5MDIgMTMuMDI0NCwyMC4yNTU4LTEuMTk5LDUyLjg0ODYtMTguODA1OCw2MC43Njc0LTI4LjkzNDgsMTMuMDI0NC0zNC43Mjc5LDQ3Ljc1LTExLjU3NjgsNjUuODMzMXoiLz4NCjxnIGZpbGw9IiNkZTI5MTAiPg0KPHBhdGggZD0ibTQ0NC4yNzE5LDIwMC45MTk3LTUuOTE5OCw5LjI5MzgtMi4xNDQ1LTEwLjgxNDItMTAuNjc4MS0yLjc1OTMgOS42MjQ2LTUuMzg5NS0uNjcxLTEwLjk5OTUgOC4wODU0LDcuNDg5NSAxMC4yNTU4LTQuMDQyNy00LjYxMDUsMTAuMDA5NCA3LjAwMTQsOC41MDU0eiIvPg0KPHBhdGggZD0ibTQ1MC41NiwyOTguNzU5Yy0xMi43MzExLTYuNTM0NS0yMi45OTYzLTIwLjE1NDktMjcuNDY4NC0zNi40MzEzLTUuMTE1LTE4LjY2OTctMi4xNzI3LTM4Ljc0MjUgOC4wODMxLTU1LjAzNzdsLTIuMjA3OS0xLjM5MzdjLTEwLjY0MDYsMTYuOTI4Ny0xMy42OTMxLDM3Ljc0MjktOC4zODU3LDU3LjExODkgNC43Mjc4LDE3LjIyMiAxNS4yMTM1LDMxLjA5ODEgMjguNzg3LDM4LjA2NDR6Ii8+DQo8L2c+DQo8L2c+DQo8dXNlIHdpZHRoPSI5MDAiIGhlaWdodD0iNjAwIiB4bGluazpocmVmPSIjcGV0YWwiIHRyYW5zZm9ybT0ibWF0cml4KC0uODA5MDIgLS41ODc3OSAuNTg3NzkgLS44MDkwMiA2MzcuNzA5ODggODA3LjMzMTU1KSIvPg0KPHVzZSB3aWR0aD0iOTAwIiBoZWlnaHQ9IjYwMCIgeGxpbms6aHJlZj0iI3BldGFsIiB0cmFuc2Zvcm09Im1hdHJpeCgtLjgwOTAyIC41ODc3OSAtLjU4Nzc5IC0uODA5MDIgOTkwLjM3OTEgMjc4LjA2ODY2KSIvPg0KPHVzZSB3aWR0aD0iOTAwIiBoZWlnaHQ9IjYwMCIgeGxpbms6aHJlZj0iI3BldGFsIiB0cmFuc2Zvcm09Im1hdHJpeCguMzA5MDIgLjk1MTA2IC0uOTUxMDYgLjMwOTAyIDU5Ni43OTY3NSAtMjIwLjcwNTAyKSIvPg0KPHVzZSB3aWR0aD0iOTAwIiBoZWlnaHQ9IjYwMCIgeGxpbms6aHJlZj0iI3BldGFsIiB0cmFuc2Zvcm09Im1hdHJpeCguMzA5MDIgLS45NTEwNiAuOTUxMDYgLjMwOTAyIDI1LjIxOTkyIDYzNS4xODM3OCkiLz4NCjwvc3ZnPg0K);
          width: 30px;
          height: 40px;
          padding-top: 8px;
          background-size: 100% auto;
          background-repeat: no-repeat;
          background-position: left center;
      }
      .tw {
        background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjYwMCIgdmlld0JveD0iLTYwIC00MCAyNDAgMTYwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgIDxyZWN0IHg9Ii02MCIgeT0iLTQwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZmUwMDAwIi8+DQogICA8cmVjdCB4PSItNjAiIHk9Ii00MCIgd2lkdGg9IjUwJSIgaGVpZ2h0PSI1MCUiIGZpbGw9IiMwMDAwOTUiLz4NCiAgIDxwYXRoIGlkPSJmb3VyX3JheXMiIGQ9Ik0gOCwwIEwgMCwzMCBMIC04LDAgTCAwLC0zMCBNIDAsOCBMIDMwLDAgTCAwLC04IEwgLTMwLDAiIGZpbGw9IiNmZmYiLz4NCiAgIDx1c2UgeGxpbms6aHJlZj0iI2ZvdXJfcmF5cyIgdHJhbnNmb3JtPSJyb3RhdGUoMzApIi8+DQogICA8dXNlIHhsaW5rOmhyZWY9IiNmb3VyX3JheXMiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPg0KICAgPGNpcmNsZSByPSIxNyIgZmlsbD0iIzAwMDA5NSIvPg0KICAgPGNpcmNsZSByPSIxNSIgZmlsbD0iI2ZmZiIvPg0KPC9zdmc+);
        width: 30px;
        height: 40px;
        padding-top: 8px;
        background-size: 100% auto;
        background-repeat: no-repeat;
        background-position: left center;
      }
      .ma {
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5ZyW5bGkXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItMjU0IDEzMSA0NTAgMzAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC0yNTQgMTMxIDQ1MCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiMwRjc1NjI7fQ0KCS5zdDF7ZmlsbDojRkZERTIzO30NCgkuc3Qye2ZpbGw6I0ZGRkZGRjt9DQo8L3N0eWxlPg0KPHJlY3QgeD0iLTI1NCIgeT0iMTMxIiBjbGFzcz0ic3QwIiB3aWR0aD0iNDUwIiBoZWlnaHQ9IjMwMCIvPg0KPHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSItMjMuMDEyMTQ2LDIwNS45OTQwMTg2IC0xMy4zMjE1OTQyLDE5OC45NTQxMDE2IC0yNS4yOTkxOTQzLDE5OC45NTQxMDE2IC0yOSwxODcuNTYyMjU1OSANCgktMzIuNzAwODA1NywxOTguOTU0MTAxNiAtNDQuNjc4NDA1OCwxOTguOTU0MTAxNiAtMzQuOTg3ODU0LDIwNS45OTQwMTg2IC0zOC42ODcyNTU5LDIxNy4zODE1OTE4IC0yOSwyMTAuMzQ0MDU1MiANCgktMTkuMzEyNzQ0MSwyMTcuMzgxNTkxOCAiLz4NCjxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iLTg5LjQxNDQyODcsMjQ2Ljg4OTE2MDIgLTgyLjE2ODg4NDMsMjQyLjg2OTk5NTEgLTkwLjM5MjIxMTksMjQxLjg2MTA4NCAtOTEuOTczMzg4NywyMzMuNzI5NTUzMiANCgktOTUuNDcyOTYxNCwyNDEuMjM3NjcwOSAtMTAzLjY5NzI2NTYsMjQwLjIyODYzNzcgLTk3LjYzNjk2MjksMjQ1Ljg4MDMxMDEgLTEwMS4xMzg0Mjc3LDI1My4zOTI1MTcxIC05My44OTE5MDY3LDI0OS4zNzI4MDI3IA0KCS04Ny44MzI3MDI2LDI1NS4wMjM0Mzc1ICIvPg0KPHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSItNjcuMjMzMDMyMiwyMjAuNDU1OTkzNyAtNTguOTQ2MTA2LDIyMC41OTk3OTI1IC02NS41NjU2NzM4LDIxNS42MTQwMTM3IC02Mi44NjcyNDg1LDIwNy43Nzc1MjY5IA0KCS02OS42NTczNDg2LDIxMi41MzIyMjY2IC03Ni4yNzUyMDc1LDIwNy41NDc3Mjk1IC03My44NTMwODg0LDIxNS40NzAyNzU5IC04MC42NDA5MzAyLDIyMC4yMjMzODg3IC03Mi4zNTU5NTcsMjIwLjM2NzEyNjUgDQoJLTY5LjkzMjI1MSwyMjguMjk0Nzk5OCAiLz4NCjxnPg0KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0tODcuNTIwNDQ2OCwzNDMuNDIxODE0YzEuNTgzMTkwOSwxLjM1NjgxMTUsMy4yMTIwMzYxLDIuNjYwNDYxNCw0Ljg4NzkzOTUsMy45MDYxMjc5SC0yOWg1My42MzI1MDczDQoJCWMxLjY3NTkwMzMtMS4yNDU2NjY1LDMuMzA0NzQ4NS0yLjU0OTMxNjQsNC44ODc5Mzk1LTMuOTA2MTI3OUgtMjlILTg3LjUyMDQ0Njh6Ii8+DQoJPHBhdGggY2xhc3M9InN0MiIgZD0iTS03Ni45MzQ1NzAzLDM1MS4yMzQwNjk4YzIuOTAyNTI2OSwxLjgzMTQyMDksNS45MTQ3OTQ5LDMuNTAzOTA2Myw5LjAyODYyNTUsNC45OTk4MTY5SC0yOUg5LjkwNTk0NDgNCgkJYzMuMTEzODMwNi0xLjQ5NTkxMDYsNi4xMjYwOTg2LTMuMTY4Mzk2LDkuMDI4NjI1NS00Ljk5OTgxNjlILTI5SC03Ni45MzQ1NzAzeiIvPg0KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0tNjIuMTkzNjAzNSwzNTguNzM0MDY5OEMtNTEuOTIwNjU0MywzNjIuODE2ODMzNS00MC43MjE4MDE4LDM2NS4wNjIwNzI4LTI5LDM2NS4wNjIwNzI4DQoJCXMyMi45MjA3MTUzLTIuMjQ1MjM5MywzMy4xOTM2MDM1LTYuMzI4MDAyOUgtMjlILTYyLjE5MzYwMzV6Ii8+DQoJPHBhdGggY2xhc3M9InN0MiIgZD0iTS05NS40MjYxNDc1LDMzNS43NjU2ODZjMC43NzU5Mzk5LDAuODQ4MTQ0NSwxLjU3MDkyMjksMS42ODIwMDY4LDIuMzc4MTczOCwyLjUwMDI0NDFILTI5aDY0LjA0Nzk3MzYNCgkJYzAuODA3MjUxLTAuODE4MjM3MywxLjYwMjIzMzktMS42NTIwOTk2LDIuMzc4MTczOC0yLjUwMDI0NDFILTI5SC05NS40MjYxNDc1eiIvPg0KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0tOC42OTIwMTY2LDMyMy40NDUyNTE1Qy0xOC42NTM0NDI0LDMyMC40MzE1Nzk2LTI1LjQwNjEyNzksMzE0Ljk4MTgxMTUtMjksMzExLjU4MDkzMjYNCgkJYy0zLjU5Mzg3MjEsMy40MDA4Nzg5LTEwLjM0NjU1NzYsOC44NTA2NDctMjAuMzA3OTgzNCwxMS44NjQzMTg4Yy00LjY1MDYzNDgsMS40MDcyODc2LTkuNTgyOTQ2OCwyLjE2MzM5MTEtMTQuNjkxNzcyNSwyLjE2MzM5MTENCgkJaC0zOS40NTgxOTA5YzEuMTYzMTQ3LDEuNzA5MzUwNiwyLjM4MjI2MzIsMy4zNzc3NDY2LDMuNjU3MjI2Niw0Ljk5OTgxNjloMzguMTQ0MzQ4MQ0KCQlDLTQ5LjIxODYyNzksMzMwLjYwOTA2OTgtMzcuODI0MDk2NywzMjYuMTIyMDA5My0yOSwzMTguNjgwNjY0MWM4LjgyNDA5NjcsNy40NDEzNDUyLDIwLjIxODYyNzksMTEuOTI4NDA1OCwzMi42NTYzNzIxLDExLjkyNzc5NTQNCgkJaDM4LjE0NDM0ODFjMS4yNzQ5NjM0LTEuNjIyMDcwMywyLjQ5NDA3OTYtMy4yOTA0NjYzLDMuNjU3MjI2Ni00Ljk5OTgxNjlINS45OTk3NTU5DQoJCUMwLjg5MDkzMDIsMzI1LjYwODY0MjYtNC4wNDEzMjA4LDMyNC44NTI1MzkxLTguNjkyMDE2NiwzMjMuNDQ1MjUxNXoiLz4NCgk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNC4yODAyMTI0LDMxNy40ODQwNjk4Yy0zLjA3NTY4MzYsMC02LjA4ODYyMy0wLjI3NDc4MDMtOS4wMTM2MTA4LTAuODAwNDE1DQoJCWMxLjM3NDUxMTcsMC4xMTI0ODc4LDIuNzY2MTEzMywwLjE3NTkwMzMsNC4xNjk5ODI5LDAuMTc1OTAzM2MyMS42Nzc3MzQ0LDAsNDAuMTg5NzU4My0xMy42Mjk1Nzc2LDQ3LjQzNjgyODYtMzIuNzc4NDQyNA0KCQljLTcuMDUyNzM0NC0yLjk0MTM0NTItMTQuNzkwMDM5MS00LjU2NTQyOTctMjIuOTA1MDI5My00LjU2NTQyOTdjLTE0LjUyMDY5MDksMC0yNy44MzQ1MzM3LDUuMjAyOTQxOS0zOC4xNzg0MDU4LDEzLjg0Mjk1NjUNCgkJYzEwLjgzMTM1OTktMTEuMjk5MTMzMywyNi4wNjA0ODU4LTE4LjM0ODQ0OTcsNDIuOTI5OTkyNy0xOC4zNzQzMjg2YzEuMDgwMDE3MS0yLjA5MTg1NzksMi41MTI1MTIyLTMuOTcwOTQ3Myw0LjIxOTExNjItNS41NjE1ODQ1DQoJCWMtMC45MDEzNjcyLTAuMDQwMjIyMi0xLjgwODg5ODktMC4wNjM0MTU1LTIuNzE5Nzg3Ni0wLjA2MzQxNTVjLTE2Ljk1ODg2MjMsMC0zMi4yNjgzNzE2LDcuMDk0OTcwNy00My4xMjUsMTguNDc2NTYyNQ0KCQljNi4yMzM4ODY3LTguNDIyNDg1NCw5LjkyMTgxNC0xOC44NDA2MzcyLDkuOTIxODE0LTMwLjExNzI0ODVjMC05LjA2NjE2MjEtMi4zODQzMzg0LTE3LjU3NTI1NjMtNi41NTc3MzkzLTI0Ljk0MTU4OTQNCgkJYy0wLjkyMjQ4NTQsMy4wNzUwMTIyLTIuNTU2ODIzNyw1Ljg0MTc5NjktNC43MDcyNzU0LDguMTE0OTkwMmMzLjExNDU2Myw2LjU3MjA4MjUsNC44NTg2NDI2LDEzLjkxODY0MDEsNC44NTg2NDI2LDIxLjY3MDIyNzENCgkJYzAsMTEuNjY5OTgyOS0zLjk1MTExMDgsMjIuNDIwODk4NC0xMC41ODU4NzY1LDMwLjk5MTM5NGM1LjQwMjcxLTguMDYxMTU3Miw4LjU1NDc0ODUtMTcuNzUzMTczOCw4LjU1NDc0ODUtMjguMTc4ODk0DQoJCWMwLTUuMDIyMjc3OC0wLjczMjIzODgtOS44NzQ3NTU5LTIuMDk0NTQzNS0xNC40NTY2MDRDLTE3LjE1NjEyNzksMjM4LjY3ODg5NC0yNC44Nzg0MTgsMjMwLjY5NTQzNDYtMjksMjI3LjAwMDY3MTQNCgkJYy00LjEyMTU4MiwzLjY5NDc2MzItMTEuODQzODcyMSwxMS42NzgyMjI3LTE1LjQ4NDA2OTgsMjMuOTE3NDgwNWMtMS4zNjIzMDQ3LDQuNTgxODQ4MS0yLjA5NDU0MzUsOS40MzQzMjYyLTIuMDk0NTQzNSwxNC40NTY2MDQNCgkJYzAsMTAuNDI1NzIwMiwzLjE1MjAzODYsMjAuMTE3NzM2OCw4LjU1NDc0ODUsMjguMTc4ODk0Yy02LjYzNDc2NTYtOC41NzA0OTU2LTEwLjU4NTg3NjUtMTkuMzIxNDExMS0xMC41ODU4NzY1LTMwLjk5MTM5NA0KCQljMC03Ljc1MTU4NjksMS43NDQwNzk2LTE1LjA5ODE0NDUsNC44NTg2NDI2LTIxLjY3MDIyNzFjLTIuMTUwNDUxNy0yLjI3MzE5MzQtMy43ODQ3OS01LjAzOTk3OC00LjcwNzI3NTQtOC4xMTQ5OTAyDQoJCWMtNC4xNzM0MDA5LDcuMzY2MzMzLTYuNTU3NzM5MywxNS44NzU0MjcyLTYuNTU3NzM5MywyNC45NDE1ODk0YzAsMTEuMjc2NjExMywzLjY4NzkyNzIsMjEuNjk0NzYzMiw5LjkyMTgxNCwzMC4xMTcyNDg1DQoJCWMtMTAuODU2NTY3NC0xMS4zODE1OTE4LTI2LjE2NjEzNzctMTguNDc2NTYyNS00My4xMjUtMTguNDc2NTYyNWMtMC45MTA4ODg3LDAtMS44MTg0MjA0LDAuMDIzMTkzNC0yLjcxOTc4NzYsMC4wNjM0MTU1DQoJCWMxLjcwNjYwNCwxLjU5MDYzNzIsMy4xMzkwOTkxLDMuNDY5NzI2Niw0LjIxOTExNjIsNS41NjE1ODQ1YzE2Ljg2OTU2NzksMC4wMjU4Nzg5LDMyLjA5ODYzMjgsNy4wNzUxOTUzLDQyLjkyOTk5MjcsMTguMzc0MzI4Ng0KCQljLTEwLjM0Mzg3MjEtOC42NDAwMTQ2LTIzLjY1NzcxNDgtMTMuODQyOTU2NS0zOC4xNzg0MDU4LTEzLjg0Mjk1NjVjLTguMTE0OTkwMiwwLTE1Ljg1MjI5NDksMS42MjQwODQ1LTIyLjkwNTAyOTMsNC41NjU0Mjk3DQoJCWM3LjI0NzA3MDMsMTkuMTQ4ODY0NywyNS43NTkwOTQyLDMyLjc3ODQ0MjQsNDcuNDM2ODI4NiwzMi43Nzg0NDI0YzEuNDAzODY5NiwwLDIuNzk1NDcxMi0wLjA2MzQxNTUsNC4xNzAwNDM5LTAuMTc1OTAzMw0KCQljLTIuOTI1MDQ4OCwwLjUyNTYzNDgtNS45Mzc5ODgzLDAuODAwNDE1LTkuMDEzNjcxOSwwLjgwMDQxNWMtMTMuNjc3OTc4NSwwLTI2LjA5MjUyOTMtNS40MjQ1NjA1LTM1LjIxNTk0MjQtMTQuMjM3NjcwOQ0KCQljLTEuODk4ODY0NywwLjczMDg5Ni0zLjkzNTQyNDgsMS4xODcwMTE3LTYuMDU5MjY1MSwxLjMxMzE3MTRjOS4yOTI0ODA1LDEwLjUxMDE5MjksMjIuODcxNTgyLDE3LjE0MzYxNTcsMzcuOTkyOTE5OSwxNy4xNDM2MTU3DQoJCWMxNC4zNjMyMjAyLDAsMjcuMzM0Nzc3OC01Ljk4Mjk3MTIsMzYuNTYyNS0xNS41OTExMjU1YzkuMjI3NzIyMiw5LjYwODE1NDMsMjIuMTk5MzQwOCwxNS41OTExMjU1LDM2LjU2MjUsMTUuNTkxMTI1NQ0KCQljMTUuMTIxMzM3OSwwLDI4LjcwMDQzOTUtNi42MzM0MjI5LDM3Ljk5Mjk4MS0xNy4xNDM2MTU3Yy0yLjEyMzkwMTQtMC4xMjYxNTk3LTQuMTYwNDYxNC0wLjU4MjI3NTQtNi4wNTkzMjYyLTEuMzEzMTcxNA0KCQlDMzAuMzcyNzQxNywzMTIuMDU5NTA5MywxNy45NTgxOTA5LDMxNy40ODQwNjk4LDQuMjgwMjEyNCwzMTcuNDg0MDY5OHoiLz4NCjwvZz4NCjxwb2x5Z29uIGNsYXNzPSJzdDEiIHBvaW50cz0iMzkuNjM2OTYyOSwyNDUuODgwMzEwMSA0NS42OTcyNjU2LDI0MC4yMjg2Mzc3IDM3LjQ3Mjk2MTQsMjQxLjIzNzY3MDkgMzMuOTczMzg4NywyMzMuNzI5NTUzMiANCgkzMi4zOTIyMTE5LDI0MS44NjEwODQgMjQuMTY4ODg0MywyNDIuODY5OTk1MSAzMS40MTQ0Mjg3LDI0Ni44ODkxNjAyIDI5LjgzMjcwMjYsMjU1LjAyMzQzNzUgMzUuODkxOTA2NywyNDkuMzcyODAyNyANCgk0My4xMzg0Mjc3LDI1My4zOTI1MTcxICIvPg0KPHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSIxNC4zNTU5NTcsMjIwLjM2NzEyNjUgMjIuNjQwOTMwMiwyMjAuMjIzMzg4NyAxNS44NTMwODg0LDIxNS40NzAyNzU5IDE4LjI3NTIwNzUsMjA3LjU0NzcyOTUgDQoJMTEuNjU3MzQ4NiwyMTIuNTMyMjI2NiA0Ljg2NzI0ODUsMjA3Ljc3NzUyNjkgNy41NjU2NzM4LDIxNS42MTQwMTM3IDAuOTQ2MTA2LDIyMC41OTk3OTI1IDkuMjMzMDMyMiwyMjAuNDU1OTkzNyANCgkxMS45MzIyNTEsMjI4LjI5NDc5OTggIi8+DQo8L3N2Zz4NCg==);
        width: 30px;
        height: 40px;
        padding-top: 8px;
        background-size: 100% auto;
        background-repeat: no-repeat;
        background-position: left center;
      }
    </style>
  </head>
  <body class="bootstrap-dark" data-spy="scroll" data-target="#toc" data-offset="56">
    <nav id="toolbar" class="navbar sticky-top navbar-expand-lg navbar-themed">
      <div class="container-fluid">
        <a class="navbar-brand" href="/notebook">quantlib.js</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" onclick="add('javascript');"><i class="fa fa-plus"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" onclick="runUp();"><i class="fa fa-angle-double-up"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" onclick="runDown();"><i class="fa fa-angle-double-down"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" onclick="runAll();"><i class="fa fa-forward"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" onclick="clearAll();"><i class="fa fa-close"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" target="_blank" href="/notebook/#tutorial.en.json">Tutorial <i class="fa fa-external-link"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" target="_blank" href="/docs">API Docs <i class="fa fa-external-link"></i></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" target="_blank" href="/test-suite">Test Suite <i class="fa fa-external-link"></i></a>
            </li>
          </ul>
          <form class="form-inline">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link cn"></a>
              </li>
              <li class="nav-item">
                <a class="nav-link"><i class="fa fa-copyright"></i> Jin Yang</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" onclick="color();"><i class="fa fa-adjust"></i></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" onclick="toggleEngine();"><i id="engine" class="fa fa-toggle-on"></i></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" onclick="$('#file-input').click();"><i class="fa fa-upload"></i></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" onclick="saveAs($('#filename').val(),toJSON());"><i class="fa fa-download"></i></a>
              </li>
            </ul>
            <input class="form-control" id="filename" type="search" placeholder="notebook.json">
          </form>
        </div>
      </div>
    </nav>
    <div class="container-fluid">
      <div class="row" id="root">
        <div id="tocroot" class="col-xl-2 hidden-lg-down">
          <nav id="toc" class="sticky-top" data-toggle="toc"></nav>
        </div>
        <div id="nbroot" class="col-lg-12 col-xl-10">
          <div id="notebook" class="container-fluid"></div>
        </div>
      </div>
    </div>
    <input type="file" id="file-input" style="display: none;">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@forevolve/bootstrap-dark@1.0.0-alpha.978/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.52.2/lib/codemirror.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.52.2/mode/javascript/javascript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/codemirror@5.52.2/mode/markdown/markdown.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/eval5@1.4.2/umd/eval5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@0.8.2/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjs@6.6.2/dist/math.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist@1.53.0/plotly.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typescript@3.5.3/lib/typescript.js"></script>
    <script>var interpreter,counter=0,cells={},theme="dark",color_enter="#C1E0FF",light_leave="#ffffff",dark_leave="#191d21",selected=NaN,running=NaN,offset=56,engine="eval5";function color(){"dark"===theme?(theme="light",$(".row").css("border-color",light_leave)):(theme="dark",$(".row").css("border-color",dark_leave)),$("body").removeClass();var e="dark"===theme?"bootstrap-dark":"bootstrap";for(id in $("body").addClass(e),cells)cells[id].setOption("theme",`base16-${theme}`);$(`#cell${selected}`).find(".btn-group").show(),$(`#cell${selected}`).css({"border-color":color_enter})}function setTheme(e){"light"===(theme=e)?$(".row").css("border-color",light_leave):$(".row").css("border-color",dark_leave),$("body").removeClass();var t="dark"===theme?"bootstrap-dark":"bootstrap";for(id in $("body").addClass(t),cells)cells[id].setOption("theme",`base16-${theme}`);$(`#cell${selected}`).find(".btn-group").show(),$(`#cell${selected}`).css({"border-color":color_enter})}function getEditor(e,t){var n=document.getElementById(e);return CodeMirror.fromTextArea(n,{theme:`base16-${theme}`,lineWrapping:!0,mode:t})}function toggle(e){"javascript"===cells[e].options.mode?cells[e].setOption("mode","markdown"):cells[e].setOption("mode","javascript"),$(`#cell${e} .fa-code`).length>0?($(`#cell${e} .fa-code`).addClass("fa-sticky-note-o"),$(`#cell${e} .fa-code`).removeClass("fa-code")):($(`#cell${e} .fa-sticky-note-o`).addClass("fa-code"),$(`#cell${e} .fa-sticky-note-o`).removeClass("fa-sticky-note-o"))}function eye(e){$(`#in${e}`).is(":visible")?($(`#in${e}`).hide(),$(`#cell${e} .fa-bars`).addClass("fa-ellipsis-v"),$(`#cell${e} .fa-bars`).removeClass("fa-bars")):($(`#in${e}`).show(),$(`#cell${e} .fa-ellipsis-v`).addClass("fa-bars"),$(`#cell${e} .fa-ellipsis-v`).removeClass("fa-ellipsis-v"),setTimeout((function(){cells[e].refresh()}),10))}function add(e,t=NaN){var n=counter++,o='<div id="cell'+n+'" class="cell row" onclick="select('+n+');">\n<div class="col-xl-1 hidden-lg-down px-0">\n<div class="btn-group pull-right" role="group">\n<button type="button" class="btn btn-sm" onclick="toggle('+n+')"><i class="'+("javascript"===e?"fa fa-code":"fa fa-sticky-note-o")+'"></i></button>\n<button type="button" class="btn btn-sm" onclick="eye('+n+');"><i class="fa fa-bars"></i></button>\n<button type="button" class="btn btn-sm" onclick="run('+n+');"><i class="fa fa-play"></i></button>\n</div>\n</div>\n<div class="col-lg-12 col-xl-10 px-0">\n<div id="in'+n+'"><textarea id="edit'+n+'"></textarea></div>\n<div id="out'+n+'"></div>\n</div>\n<div class="col-xl-1 hidden-lg-down px-0">\n<div class="btn-group" role="group">\n<button type="button" class="btn btn-sm" onclick="$(\'#cell'+n+"').insertBefore($('#cell"+n+'\').prev(\'.row\'));"><i class="fa fa-angle-up"></i></button>\n<button type="button" class="btn btn-sm" onclick="del('+n+');"><i class="fa fa-trash-o"></i></button>\n<button type="button" class="btn btn-sm" onclick="$(\'#cell'+n+"').insertAfter($('#cell"+n+"').next('.row'));\"><i class=\"fa fa-angle-down\"></i></button>\n</div>\n</div>\n</div>";isNaN(selected)?$("#notebook").append(o):$(o).insertAfter(`#cell${selected}`);var l=getEditor(`edit${n}`,e);cells[n]=l,$(`#cell${n} .btn-group`).hide(),$(`#cell${n}`).css({"border-color":"dark"===theme?dark_leave:light_leave})}function del(e){$(`#cell${e}`).remove(),delete cells[e]}function toJSON(){for(var e={},t=$("#notebook .row"),n=0;n<t.length;n++){var o=t[n].id.substr(4),l={};l.input={type:cells[o].options.mode,source:cells[o].getValue()},l.show_editor=$(`#in${o}`).is(":visible"),l.output={type:"html",content:$(`#out${o}`).html()},e[`${t[n].id}`]=l}return JSON.stringify(e,null,"\t")}function saveAs(e,t){""==e&&(e="notebook.json");var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function fromJSON(e){for(cell in cells=[],counter=0,selected=NaN,$("#notebook").empty(),e){var t=parseInt(cell.substr(4),10);counter<t&&(counter=t);var n=e[cell].input.type,o='<div id="cell'+t+'" class="cell row" onclick="select('+t+');">\n<div class="col-xl-1 hidden-lg-down px-0">\n<div class="btn-group pull-right" role="group">\n<button type="button" class="btn btn-sm" onclick="toggle('+t+')"><i class="'+("javascript"===n?"fa fa-code":"fa fa-sticky-note-o")+'"></i></button>\n<button type="button" class="btn btn-sm" onclick="eye('+t+');"><i class="fa fa-bars"></i></button>\n<button type="button" class="btn btn-sm" onclick="run('+t+');"><i class="fa fa-play"></i></button>\n</div>\n</div>\n<div class="col-lg-12 col-xl-10 px-0">\n<div id="in'+t+'"><textarea id="edit'+t+'"></textarea></div>\n<div id="out'+t+'">'+e[cell].output.content+'</div>\n</div>\n<div class="col-xl-1 hidden-lg-down px-0">\n<div class="btn-group" role="group">\n<button type="button" class="btn btn-sm" onclick="$(\'#cell'+t+"').insertBefore($('#cell"+t+'\').prev(\'.row\'));"><i class="fa fa-angle-up"></i></button>\n<button type="button" class="btn btn-sm" onclick="del('+t+');"><i class="fa fa-trash-o"></i></button>\n<button type="button" class="btn btn-sm" onclick="$(\'#cell'+t+"').insertAfter($('#cell"+t+"').next('.row'));\"><i class=\"fa fa-angle-down\"></i></button>\n</div>\n</div>\n</div>";$("#notebook").append(o);var l=getEditor(`edit${t}`,n);l.setValue(e[cell].input.source),setTimeout((function(){l.refresh()}),10),cells[t]=l,e[cell].show_editor||eye(t)}$(".btn-group").hide(),$(".cell.row").css({"border-color":"dark"===theme?dark_leave:light_leave}),hover(),counter++,updateToc()}function select(e){selected!=e&&($(`#cell${selected}`).find(".btn-group").hide(),$(`#cell${selected}`).css({"border-color":"dark"===theme?dark_leave:light_leave}),$(`#cell${selected}`).css({"border-left-width":"0.5px"}),selected=e,$(`#cell${e}`).css({"border-left-width":"6px"}))}function hover(){$(document).on({mouseenter:function(){"xl"==getResponsiveBreakpoint()&&$(this).find(".btn-group").show(),$(this).css({"border-color":color_enter})},mouseleave:function(){$(this).attr("id").substr(4)!=selected&&("xl"==getResponsiveBreakpoint()&&$(this).find(".btn-group").hide(),$(this).css({"border-color":"dark"===theme?dark_leave:light_leave}))}},".cell.row")}function readSingleFile(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){var n=e.target.result;try{fromJSON(JSON.parse(n)),$("#filename").val(t.name)}catch(e){console.log(e)}},n.readAsText(t)}}function load(e){try{fetch(e).then(e=>e.json()).then(e=>{fromJSON(e)})}catch(e){console.log(e)}}function output(e,t){if(void 0!==e)switch(null==e.type&&(e.type="xxx"),e.type){case"plot":Plotly.newPlot(`ot${t}`,e.data,e.layout,e.option);break;case"table":var n=`${e.data}`;$(`#ot${t}`).append(n);break;case"text":n=`<code>${e.data}</code>`;$(`#ot${t}`).append(n);break;default:n=`<code>${e}</code>`;$(`#ot${t}`).append(n)}else if($(`#ot${t}`).is(":empty")){n=`<code>${e}</code>`;$(`#ot${t}`).append(n)}}function print(e){var t=`<code>${e}<br></code>`;$(`#ot${running}`).append(t)}function varlist(){var e=[];for(p in interpreter.globalContext)"ql"!=p&&"console"!=p&&"math"!=p&&"plot"!=p&&"print"!=p&&"table"!=p&&e.push({name:p,type:typeof interpreter.globalContext[p],value:interpreter.globalContext[p]});var t='<table class="table table-striped">',n=e[0];for(td in t+="<thead><tr>",n)t+=`<th>${td}</th>`;t+="</tr></thead><tbody>";for(var o=0;o<e.length;o++){for(td in t+="<tr>",e[o])t+=`<td>${e[o][td]}</td>`;t+="</tr>"}t+="</tbody></table>",$("#vartable").empty(),$("#vartable").append(t)}function table(e){if(!Array.isArray(e))return print(e);var t='<table class="table table-striped">',n=e[0];for(td in t+="<thead><tr>",n)t+=`<th>${td}</th>`;t+="</tr></thead><tbody>";for(var o=0;o<e.length;o++){for(td in t+="<tr>",e[o])t+=`<td>${e[o][td]}</td>`;t+="</tr>"}var l=`${t+="</tbody></table>"}`;$(`#ot${running}`).append(l)}function plot(e,t={},n={}){return t.plot_bgcolor="dark"==theme?dark_leave:light_leave,t.paper_bgcolor="dark"==theme?dark_leave:light_leave,n.displaylogo=!1,n.responsive=!0,{type:"plot",data:e,layout:t,option:n}}function run(e){running=e,$(`#out${e}`).empty(),$(`#out${e}`).append(`<div id=ot${e}></div>`);var t=cells[e].getValue();if("javascript"===cells[e].options.mode)try{var n=ts.transpileModule(t,{compilerOptions:{target:"es5"}}).outputText;output(o="eval5"==engine?interpreter.evaluate(`with(ql){${n}}`):window.eval(`with(ql){${n}}`),e)}catch(l){$(`#ot${e}`).append(`<code>${l.message}</code>`)}else{$(`#in${e}`).is(":visible")&&($(`#in${e}`).hide(),$(`#cell${e} .fa-bars`).addClass("fa-ellipsis-v"),$(`#cell${e} .fa-bars`).removeClass("fa-bars"));try{var o=protectMath(t);$(`#ot${e}`).append(`${o}`);var l=document.getElementById(`ot${e}`);renderMathInElement(l,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})}catch(l){$(`#out${e}`).append(`<pre>${l.message}</pre>`)}}updateToc()}function runUp(){for(var e=$("#notebook .row"),t=0;t<e.length;t++){var n=parseInt(e[t].id.substr(4),10);if(n==selected)break;run(n)}}function runDown(){for(var e=$("#notebook .row"),t=[],n=0;n<e.length;n++){var o=parseInt(e[n].id.substr(4),10);t.push(o)}var l=t.indexOf(selected);if(l>-1)for(n=l;n<t.length;n++)run(t[n])}function runAll(){for(var e=$("#notebook .row"),t=0;t<e.length;t++){run(e[t].id.substr(4))}}function runMD(){for(var e=$("#notebook .row"),t=0;t<e.length;t++){var n=e[t].id.substr(4);0===$(`#cell${n} .fa-code`).length&&run(n)}}function updateToc(){if("xl"==getResponsiveBreakpoint()){$("#toc").empty();var e=createChildNavList($("#toc")),t=getTopLevel($("#notebook"));populateNav(e,t,getHeadings($("#notebook"),t)),$('[data-spy="scroll"]').each((function(){$(this).scrollspy("refresh")})),$("#toc a").on("click",(function(e){e.preventDefault(),$("html, body").scrollTop($($(this).attr("href")).offset().top-offset)}))}}function runCode(){for(var e=$("#notebook .row"),t=0;t<e.length;t++){var n=e[t].id.substr(4);$(`#cell${n} .fa-code`).length>0&&run(n)}}function clearAll(){for(var e=$("#notebook .row"),t=0;t<e.length;t++){var n=e[t].id.substr(4);$(`#out${n}`).empty(),$(`#in${n}`).is(":visible")||($(`#in${n}`).show(),$(`#cell${n} .fa-ellipsis-v`).addClass("fa-bars"),$(`#cell${n} .fa-ellipsis-v`).removeClass("fa-ellipsis-v"),setTimeout((function(){cells[n].refresh()}),10))}$("#toc").empty()}function clearCode(){for(var e=$("#notebook .row"),t=0;t<e.length;t++){var n=e[t].id.substr(4);$(`#cell${n} .fa-code`).length>0&&($(`#out${n}`).empty(),$(`#in${n}`).is(":visible")||($(`#in${n}`).show(),$(`#cell${n} .fa-ellipsis-v`).addClass("fa-bars"),$(`#cell${n} .fa-ellipsis-v`).removeClass("fa-ellipsis-v")))}}function compass(){NaN!=selected&&$("html, body").scrollTop($(`#cell${selected}`).offset().top-offset)}function findOrFilter(e,t){var n=e.find(t);return e.filter(t).add(n).filter(":not([data-toc-skip])")}function createChildNavList(e){var t=$('<ul class="nav navbar-nav"></ul>');return e.append(t),t}function generateNavEl(e,t){var n=$('<a class="nav-link"></a>');n.attr("href","#"+e),n.text(t);var o=$("<li></li>");return o.append(n),o}function generateNavItem(e){var t=e.id,n=$(e);return generateNavEl(t,n.data("toc-text")||n.text())}function getTopLevel(e){for(var t=1;t<=6;t++){if(findOrFilter(e,"h"+t).length>1)return t}return 1}function getHeadings(e,t){return findOrFilter(e,"h"+t+","+("h"+(t+1)))}function getNavLevel(e){return parseInt(e.tagName.charAt(1),10)}function populateNav(e,t,n){var o,l=e;n.each((function(n,a){var r=generateNavItem(a);getNavLevel(a)===t?l=e:o&&l===e&&(l=createChildNavList(o)),l.append(r),o=r}))}function getResponsiveBreakpoint(){var e={xs:"d-none",sm:"d-sm-none",md:"d-md-none",lg:"d-lg-none",xl:"d-xl-none"},t="",n=$("<div>");n.appendTo($("body"));for(var o=Object.keys(e).length-1;o>=0&&(t=Object.keys(e)[o],n.addClass(e[t]),!n.is(":hidden"));o--);return n.remove(),t}var tokenType={MARK:0,MASK:1},tokenLiteral={MASK:"::MASK::"};function tokenize(e){for(var t,n,o=["\\\\\\$","\\$\\$(?:[^\\\\]|\\\\.)*?\\$\\$","\\$(?:[^$\\\\]|\\\\.)+?\\$",tokenLiteral.MASK].join("|"),l=new RegExp(o,"g"),a=[],r=0;null!==(t=l.exec(e));)t.index>r&&(n=e.substring(r,t.index),a.push([tokenType.MARK,n])),a.push([tokenType.MASK,t[0]]),r=l.lastIndex;return n=e.substring(r),e.length>r&&a.push([tokenType.MARK,n]),a}function protectMath(e){for(var t=tokenize(e),n="",o=[],l=0;l<t.length;l++)t[l][0]==tokenType.MARK?n+=t[l][1]:(o.push(l),n+=tokenLiteral.MASK);n=marked(n);var a=new RegExp(tokenLiteral.MASK,"g"),r=0;return n=n.replace(a,(function(){return t[o[r++]][1]}))}function detectBrowser(){var e=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,n=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),o=!!document.documentMode,l=!o&&!!window.StyleMedia,a=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);a&&navigator.userAgent.indexOf("Edg");e?$("#browser").addClass("fa fa-opera"):t?$("#browser").addClass("fa fa-firefox"):n?$("#browser").addClass("fa fa-safari"):o?$("#browser").addClass("fa fa-internet-explorer"):l?$("#browser").addClass("fa fa-edge"):a?$("#browser").addClass("fa fa-chrome"):$("#browser").addClass("fa fa-question")}function toggleEngine(){"eval5"==engine?(engine="evil",$("#engine").addClass("fa-toggle-off"),$("#engine").removeClass("fa-toggle-on")):(engine="eval5",$("#engine").addClass("fa-toggle-on"),$("#engine").removeClass("fa-toggle-off"))}function main(){document.getElementById("file-input").addEventListener("change",readSingleFile,!1),window.addEventListener("resize",(function(){"xl"==getResponsiveBreakpoint()?runMD():($("#toc").empty(),$(`#cell${selected}`).find(".btn-group").hide())}));var e=new marked.Renderer;e.link=function(e,t,n){var o=marked.Renderer.prototype.link.apply(this,arguments);return o.replace("<a","<a target='_blank'")},marked.setOptions({renderer:e,gfm:!0}),detectBrowser(),import("https://cdn.jsdelivr.net/npm/@quantlib/ql@latest/ql.mjs").then(e=>{var t={ql:e,console:console,math:math,plot:plot,print:print,table:table};window.ql=e,interpreter=new eval5.Interpreter(t);var n=window.location.hash;if(""!==n){var o=(n=n.substr(1)).split("/"),l=o[o.length-1];$("#filename").val(l),load(n)}hover()})}main();</script>
  </body>
</html>
